<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Poradnik 13: Projekt: Robot mobilny</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Poradnik 13: Projekt: Robot mobilny</h1>
    <nav>
      <a href="index.html">Powrót do strony głównej</a>
    </nav>
  </header>
  <main>
    <section>
      <h2>Opis projektu</h2>
      <p>Robot mobilny to zaawansowany projekt, w którym Arduino steruje dwoma silnikami za pomocą sterownika L298N. W tym poradniku przedstawiamy podstawowy szkic sterowania ruchem robota.</p>
    </section>
    <section>
      <h2>Przykładowy kod</h2>
      <p>Kod poniżej steruje dwoma silnikami, umożliwiając ruch do przodu, do tyłu oraz zatrzymanie:</p>
      <pre><code id="arduinoRobot12">
/*
  Program: Odczyt wilgotności z BME280 i zapalanie wbudowanej diody RGB (NeoPixel)
           na zielono (wilgotność <= 70%) lub czerwono (wilgotność > 70%).

  Założenia sprzętowe:
  - Płytka ESP32-S3 z wbudowanym NeoPixelem (sterowanym np. na pinie 21).
  - Czujnik BME280 podłączony przez I2C (domyślne piny SDA, SCL w ESP32-S3 lub inne,
    jeśli konfigurujemy je ręcznie).
  
*/

#include <Arduino.h>
#include <Wire.h>
#include <Adafruit_BME280.h>
#include <Adafruit_NeoPixel.h>

// Adres I2C czujnika BME280 (sprawdź w dokumentacji/modułach, najczęściej 0x76 lub 0x77)
#define BME280_ADDRESS 0x76

// Ustawienia pinu LED (jeśli korzystasz z wbudowanego NeoPixela np. na pinie 21)
#define LED_PIN        21
#define NUMPIXELS      1  // Liczba diod NeoPixel (tu 1 wbudowana)
Adafruit_NeoPixel pixels(NUMPIXELS, LED_PIN, NEO_GRB + NEO_KHZ800);

// Obiekt czujnika BME280
Adafruit_BME280 bme;

// Funkcja pomocnicza do ustawiania koloru diody NeoPixel
void setLedColor(uint8_t r, uint8_t g, uint8_t b) {
  pixels.setPixelColor(0, pixels.Color(r, g, b));
  pixels.show();
}

void setup() {
  Serial.begin(115200);
  Serial.println("Program: Odczyt BME280 + dioda RGB (Zielony/Czerwony)");

  // Inicjalizacja I2C (domyślne piny SDA, SCL w ESP32-S3)
  Wire.begin();

  // Inicjalizacja czujnika BME280
  if (!bme.begin(BME280_ADDRESS)) {
    Serial.println("Nie znaleziono czujnika BME280! Sprawdz adres i podlaczenie.");
    while (1);  // Zatrzymaj działanie, jeśli czujnik nie został znaleziony
  }
  Serial.println("Czujnik BME280 zainicjalizowany.");

  // Inicjalizacja diody NeoPixel
  pixels.begin();
  setLedColor(0, 0, 0); // Na start wyłącz diodę
  Serial.println("NeoPixel zainicjalizowany.");
}

void loop() {
  // Odczyt wartości z czujnika BME280
  float temperature = bme.readTemperature();    // °C
  float pressure    = bme.readPressure() / 100.0F; // hPa
  float humidity    = bme.readHumidity();       // %

  // Wyświetlanie w Serial Monitor (opcjonalne)
  Serial.print("Temperatura: ");
  Serial.print(temperature);
  Serial.println(" *C");

  Serial.print("Cisnienie: ");
  Serial.print(pressure);
  Serial.println(" hPa");

  Serial.print("Wilgotnosc: ");
  Serial.print(humidity);
  Serial.println(" %");

  // Sterowanie diodą w zależności od wilgotności
  if (humidity <= 70.0) {
    // Wilgotność <= 70% => dioda zielona
    setLedColor(0, 255, 0);
    Serial.println("LED -> ZIELONA");
  } else {
    // Wilgotność > 70% => dioda czerwona
    setLedColor(255, 0, 0);
    Serial.println("LED -> CZERWONA");
  }

  Serial.println("--------------------------\n");
  delay(2000); // Odczyt co 2 sekundy (możesz zmienić według potrzeb)
}

      </code></pre>
      <button onclick="copyCode('arduinoRobot12')">Kopiuj kod</button>
    </section>
    <section>
      <h2>Szczegółowe wyjaśnienie</h2>
      <p>Kod steruje dwoma silnikami za pomocą sterownika L298N. Wykorzystujemy piny cyfrowe do ustawienia kierunku obrotu, a piny PWM do regulacji prędkości. Robot wykonuje sekwencję ruchów: jazdę do przodu, zatrzymanie, jazdę do tyłu i kolejne zatrzymanie.</p>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 Poradniki Arduino</p>
  </footer>
  <script src="skrypty.js"></script>
</body>
</html>
