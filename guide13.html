<!DOCTYPE html>
<html lang="pl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Poradnik 13: Projekt: Robot mobilny</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <h1>Poradnik 13: Projekt: Robot mobilny</h1>
    <nav>
      <a href="index.html">Powrót do strony głównej</a>
    </nav>
  </header>
  <main>
    <section>
      <h2>Opis projektu</h2>
      <p>Robot mobilny to zaawansowany projekt, w którym Arduino steruje dwoma silnikami za pomocą sterownika L298N. W tym poradniku przedstawiamy podstawowy szkic sterowania ruchem robota.</p>
    </section>
    <section>
      <h2>Przykładowy kod</h2>
      <p>Kod poniżej steruje dwoma silnikami, umożliwiając ruch do przodu, do tyłu oraz zatrzymanie:</p>
      <pre><code id="arduinoRobot12">
#include <Adafruit_NeoPixel.h>

// Ustawienia NeoPixel
#define LED_PIN     48   // Dostósuj pin do swojej płytki (np. 45, 48 albo inny)
#define LED_COUNT   1    // Liczba diod NeoPixel

// Ustawienia przycisku
#define BUTTON_PIN  0    // GPIO0 - przycisk BOOT

Adafruit_NeoPixel strip(LED_COUNT, LED_PIN, NEO_GRB + NEO_KHZ800);

// Zmienne pomocnicze
bool ledState = false;       // Czy aktualnie dioda jest włączona?
bool lastButtonState = HIGH; // Poprzedni stan przycisku (załóżmy INPUT_PULLUP)

// Funkcja pomocnicza do ustawiania koloru diody
void setPixelColor(uint8_t r, uint8_t g, uint8_t b) {
  strip.setPixelColor(0, strip.Color(r, g, b));
  strip.show();
}

void setup() {
  Serial.begin(115200);

  // Konfiguracja NeoPixel
  strip.begin(); 
  strip.show();  // Upewnij się, że diody startują w stanie OFF

  // Konfiguracja przycisku
  pinMode(BUTTON_PIN, INPUT_PULLUP); 
}

void loop() {
  // Odczyt aktualnego stanu przycisku (z pull-upem przycisk daje stan NISKI przy wciśnięciu)
  bool currentButtonState = digitalRead(BUTTON_PIN);

  // Sprawdzamy czy nastąpiła zmiana stanu z HIGH na LOW (zbocze opadające)
  if (lastButtonState == HIGH && currentButtonState == LOW) {
    // Przełącz stan diody
    ledState = !ledState;

    if (ledState) {
      // Jeśli dioda ma się włączyć – w tym przykładzie zapalimy np. na biało
      setPixelColor(255, 255, 255);
      Serial.println("Dioda wlaczona. Czekam 5s...");

      // Blokujące opóźnienie 5s
      delay(5000);

      // Po 5s wyłączamy diodę
      setPixelColor(0, 0, 0);
      ledState = false;
      Serial.println("Dioda wylaczona po 5s.");
    } else {
      // Jeśli przełączamy na OFF
      setPixelColor(0, 0, 0);
      Serial.println("Dioda wylaczona przyciskiem.");
    }
  }

  // Zapamiętaj aktualny stan przycisku do następnej iteracji
  lastButtonState = currentButtonState;
}


      </code></pre>
      <button onclick="copyCode('arduinoRobot12')">Kopiuj kod</button>
    </section>
    <section>
      <h2>Szczegółowe wyjaśnienie</h2>
      <p>Kod steruje dwoma silnikami za pomocą sterownika L298N. Wykorzystujemy piny cyfrowe do ustawienia kierunku obrotu, a piny PWM do regulacji prędkości. Robot wykonuje sekwencję ruchów: jazdę do przodu, zatrzymanie, jazdę do tyłu i kolejne zatrzymanie.</p>
    </section>
  </main>
  <footer>
    <p>&copy; 2025 Poradniki Arduino</p>
  </footer>
  <script src="skrypty.js"></script>
</body>
</html>
